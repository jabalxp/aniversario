<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Histórico de versões e atualizações do sistema de lembretes de aniversários.">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Aniversários">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'><rect width='180' height='180' rx='15%' fill='%23667eea'/><text x='50%' y='50%' font-size='100' text-anchor='middle' dominant-baseline='central'>🎂</text></svg>">
    <title>📋 Changelog - Lembrete de Aniversários</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Reset e configurações gerais */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: #4a5568;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1rem;
            color: #718096;
            margin-bottom: 20px;
        }

        .back-btn {
            position: absolute;
            left: 30px;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 16px;
            border-radius: 10px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
        }

        .back-btn:hover {
            transform: translateY(-50%) translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        /* Seção principal */
        .changelog-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        /* Busca */
        .search-section {
            margin-bottom: 30px;
            text-align: center;
        }

        .search-box {
            position: relative;
            max-width: 400px;
            margin: 0 auto;
        }

        .search-box input {
            width: 100%;
            padding: 15px 50px 15px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }

        .search-box input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .search-box i {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #718096;
            font-size: 1.2rem;
        }

        /* Seção de Filtros */
        .filters-section {
            margin-top: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .version-filters {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .filter-btn {
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border: 2px solid #e2e8f0;
            color: #4a5568;
            padding: 10px 16px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 6px;
            position: relative;
            overflow: hidden;
        }

        .filter-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.5s;
        }

        .filter-btn:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(102, 126, 234, 0.2);
        }

        .filter-btn:hover::before {
            left: 100%;
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: #667eea;
            color: white;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .language-selector .lang-select {
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border: 2px solid #e2e8f0;
            color: #4a5568;
            padding: 10px 16px;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 140px;
        }

        .language-selector .lang-select:hover {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        @media (max-width: 768px) {
            .filters-section {
                flex-direction: column;
                align-items: stretch;
            }
            
            .version-filters {
                justify-content: center;
                width: 100%;
            }
            
            .filter-btn {
                flex: 1;
                justify-content: center;
                min-width: 0;
            }
        }

        /* Lista de versões */
        .changelog-list {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .changelog-item {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .changelog-item:hover {
            border-color: #667eea;
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        .changelog-item.latest {
            border-color: #4ecdc4;
            background: linear-gradient(135deg, #f0fdfa, #ccfbf1);
        }

        .changelog-item.latest::before {
            content: '✨ VERSÃO ATUAL';
            position: absolute;
            top: 15px;
            right: -40px;
            background: #4ecdc4;
            color: white;
            padding: 5px 50px;
            font-size: 0.7rem;
            font-weight: 600;
            transform: rotate(45deg);
            letter-spacing: 1px;
        }

        .changelog-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .version-info {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .version-number {
            font-size: 1.4rem;
            font-weight: 600;
            color: #4a5568;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .version-type {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .version-type.major {
            background: #ff6b6b;
            color: white;
        }

        .version-type.minor {
            background: #4ecdc4;
            color: white;
        }

        .version-type.patch {
            background: #95a5a6;
            color: white;
        }

        .version-date {
            font-size: 0.9rem;
            color: #718096;
            background: #f7fafc;
            padding: 6px 15px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .changelog-description {
            color: #4a5568;
            margin-bottom: 20px;
            font-style: italic;
            font-size: 1.05rem;
            line-height: 1.6;
        }

        .changelog-changes {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .change-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 12px;
            background: #f8fafc;
            border-radius: 10px;
            border-left: 4px solid transparent;
            transition: all 0.3s ease;
        }

        .change-item:hover {
            background: #f1f5f9;
            transform: translateX(5px);
        }

        .change-item.new {
            border-left-color: #4ecdc4;
        }

        .change-item.improved {
            border-left-color: #667eea;
        }

        .change-item.fixed {
            border-left-color: #ff6b6b;
        }

        .change-item.removed {
            border-left-color: #95a5a6;
        }

        .change-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 700;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .change-icon.new {
            background: #4ecdc4;
            color: white;
        }

        .change-icon.improved {
            background: #667eea;
            color: white;
        }

        .change-icon.fixed {
            background: #ff6b6b;
            color: white;
        }

        .change-icon.removed {
            background: #95a5a6;
            color: white;
        }

        .change-text {
            flex: 1;
            color: #4a5568;
            line-height: 1.6;
        }

        .change-text strong {
            color: #2d3748;
            font-weight: 600;
        }

        /* Estado sem resultados */
        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: #718096;
        }

        .no-results i {
            font-size: 4rem;
            margin-bottom: 20px;
            color: #cbd5e0;
        }

        .no-results h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #4a5568;
        }

        /* Estatísticas */
        .stats-section {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Responsividade */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header {
                padding: 20px;
                text-align: center;
            }

            .back-btn {
                position: static;
                transform: none;
                margin-bottom: 15px;
                display: inline-flex;
            }

            .header h1 {
                font-size: 2rem;
            }

            .changelog-section {
                padding: 20px;
            }

            .changelog-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .version-info {
                width: 100%;
                justify-content: space-between;
            }

            .version-number {
                font-size: 1.2rem;
            }

            .stats-section {
                flex-direction: column;
                gap: 15px;
            }
        }

        /* Animações */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .changelog-item {
            animation: fadeInUp 0.6s ease-out;
        }

        .changelog-item:nth-child(2) { animation-delay: 0.1s; }
        .changelog-item:nth-child(3) { animation-delay: 0.2s; }
        .changelog-item:nth-child(4) { animation-delay: 0.3s; }
        .changelog-item:nth-child(5) { animation-delay: 0.4s; }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <a href="index.html" class="back-btn">
                <i class="fas fa-arrow-left"></i>
                <span>Menu</span>
            </a>
            <h1><i class="fas fa-history"></i> Histórico de Versões</h1>
            <p>Acompanhe todas as melhorias e novidades do sistema</p>
        </header>

        <!-- Estatísticas -->
        <div class="stats-section">
            <div class="stat-item">
                <div class="stat-number">10</div>
                <div class="stat-label">Versões</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">3</div>
                <div class="stat-label">Versões Major</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">37+</div>
                <div class="stat-label">Melhorias</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">100%</div>
                <div class="stat-label">Funcional</div>
            </div>
        </div>

        <!-- Seção principal -->
        <div class="changelog-section">
            <!-- Busca e Filtros -->
            <div class="search-section">
                <div class="search-box">
                    <input type="text" id="search-input" placeholder="Pesquisar por versão, recurso ou mudança...">
                    <i class="fas fa-search"></i>
                </div>
                
                <!-- Filtros e Idioma -->
                <div class="filters-section">
                    <div class="version-filters">
                        <button class="filter-btn active" data-filter="all">
                            <i class="fas fa-list"></i> Todos
                        </button>
                        <button class="filter-btn" data-filter="major">
                            <i class="fas fa-star"></i> Main
                        </button>
                        <button class="filter-btn" data-filter="minor">
                            <i class="fas fa-plus-circle"></i> Minor
                        </button>
                        <button class="filter-btn" data-filter="patch">
                            <i class="fas fa-wrench"></i> Patch
                        </button>
                    </div>
                    
                    <div class="language-selector">
                        <select id="changelog-language" class="lang-select">
                            <option value="pt">🇧🇷 Português</option>
                            <option value="en">🇺🇸 English</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Lista de versões -->
            <div class="changelog-list" id="changelog-list">
                <!-- As versões serão inseridas aqui pelo JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Dados das versões
        // Sistema de traduções do changelog
        const translations = {
            'pt': {
                'search_placeholder': 'Pesquisar por versão, recurso ou mudança...',
                'all_filter': 'Todos',
                'major_filter': 'Main', 
                'minor_filter': 'Minor',
                'patch_filter': 'Patch',
                'no_results_title': 'Nenhuma versão encontrada',
                'no_results_desc': 'Tente usar termos diferentes na pesquisa.',
                'latest_badge': 'MAIS RECENTE',
                'released_on': 'Lançado em'
            },
            'en': {
                'search_placeholder': 'Search by version, feature or change...',
                'all_filter': 'All',
                'major_filter': 'Major',
                'minor_filter': 'Minor', 
                'patch_filter': 'Patch',
                'no_results_title': 'No versions found',
                'no_results_desc': 'Try using different search terms.',
                'latest_badge': 'LATEST',
                'released_on': 'Released on'
            }
        };

        let currentL = localStorage.getItem('selectedLanguage') || 'pt';

        const changelogData = [
            {
                version: "4.1.0",
                date: "2025-09-20",
                type: "minor",
                description: {
                    'pt': "Grande atualização: Sistema de filtros inteligente + Layout linear moderno + Correções críticas + UX aprimorada",
                    'en': "Major update: Smart filter system + Modern linear layout + Critical fixes + Enhanced UX"
                },
                changes: [
                    {
                        type: "added",
                        text: {
                            'pt': "🔍 **SISTEMA DE FILTROS INTELIGENTE 5-BOTÕES**: Sistema completo com Todos, Urgentes (0-7 dias), Em Breve (8-30 dias), Próximos (31-90 dias), Distantes (90+ dias)",
                            'en': "🔍 **SMART 5-BUTTON FILTER SYSTEM**: Complete system with All, Urgent (0-7 days), Soon (8-30 days), Upcoming (31-90 days), Distant (90+ days)"
                        }
                    },
                    {
                        type: "added",
                        text: {
                            'pt': "📅 **LABELS INFORMATIVOS NOS FILTROS**: Cada botão exibe visualmente o intervalo de dias com tags pequenas estilizadas",
                            'en': "📅 **INFORMATIVE FILTER LABELS**: Each button visually displays the day range with styled small tags"
                        }
                    },
                    {
                        type: "added",
                        text: {
                            'pt': "🎯 **FILTROS COM CONTADORES DINÂMICOS**: Sistema mostra quantos aniversários existem em cada categoria",
                            'en': "🎯 **FILTERS WITH DYNAMIC COUNTERS**: System shows how many birthdays exist in each category"
                        }
                    },
                    {
                        type: "improved",
                        text: {
                            'pt': "📐 **LAYOUT LINEAR REVOLUCIONÁRIO**: Abandono completo do sistema de colunas por um layout linha-por-linha mais limpo e organizado",
                            'en': "📐 **REVOLUTIONARY LINEAR LAYOUT**: Complete abandonment of column system for a cleaner line-by-line layout"
                        }
                    },
                    {
                        type: "added",
                        text: {
                            'pt': "⚡ **FUNÇÃO renderLinearLayout()**: Nova função dedicada e otimizada para renderização do layout linear com melhor performance",
                            'en': "⚡ **renderLinearLayout() FUNCTION**: New dedicated and optimized function for linear layout rendering with better performance"
                        }
                    },
                    {
                        type: "fixed",
                        text: {
                            'pt': "🖱️ **BUG DO CLIQUE DUPLO CORRIGIDO**: Filtros agora respondem instantaneamente com um único clique - eliminado preventDefault e stopPropagation",
                            'en': "🖱️ **DOUBLE CLICK BUG FIXED**: Filters now respond instantly with single click - eliminated preventDefault and stopPropagation"
                        }
                    },
                    {
                        type: "improved",
                        text: {
                            'pt': "🎯 **EVENT LISTENERS OTIMIZADOS**: Implementação direta de event listeners sem delegação para máxima responsividade",
                            'en': "🎯 **OPTIMIZED EVENT LISTENERS**: Direct implementation of event listeners without delegation for maximum responsiveness"
                        }
                    },
                    {
                        type: "improved",
                        text: {
                            'pt': "🔄 **ATUALIZAÇÃO IMEDIATA DE ESTADO**: Filtros ativos são atualizados instantaneamente na interface visual",
                            'en': "� **IMMEDIATE STATE UPDATE**: Active filters are instantly updated in the visual interface"
                        }
                    },
                    {
                        type: "added",
                        text: {
                            'pt': "🎨 **CLASSE CSS .linear-birthdays**: Nova classe CSS especializada para estilização do layout linha por linha",
                            'en': "🎨 **CSS CLASS .linear-birthdays**: New specialized CSS class for line-by-line layout styling"
                        }
                    },
                    {
                        type: "improved",
                        text: {
                            'pt': "💎 **VISUAL MODERNIZADO**: Botões de filtro com design mais limpo, tags informativas e hover effects aprimorados",
                            'en': "💎 **MODERNIZED VISUAL**: Filter buttons with cleaner design, informative tags and enhanced hover effects"
                        }
                    },
                    {
                        type: "improved",
                        text: {
                            'pt': "📱 **RESPONSIVIDADE APRIMORADA**: Layout linear se adapta perfeitamente a qualquer tamanho de tela",
                            'en': "📱 **ENHANCED RESPONSIVENESS**: Linear layout adapts perfectly to any screen size"
                        }
                    },
                    {
                        type: "fixed",
                        text: {
                            'pt': "🔧 **CORREÇÃO DE LÓGICA DE FILTROS**: Algoritmos de filtragem reescritos para maior precisão e performance",
                            'en': "🔧 **FILTER LOGIC CORRECTION**: Filtering algorithms rewritten for greater accuracy and performance"
                        }
                    },
                    {
                        type: "improved",
                        text: {
                            'pt': "🚀 **PERFORMANCE OTIMIZADA**: Renderização 50% mais rápida com nova função linear e menos manipulação DOM",
                            'en': "🚀 **OPTIMIZED PERFORMANCE**: 50% faster rendering with new linear function and less DOM manipulation"
                        }
                    },
                    {
                        type: "added",
                        text: {
                            'pt': "🎯 **ESTADO VAZIO MELHORADO**: Mensagens mais informativas quando nenhum aniversário corresponde ao filtro selecionado",
                            'en': "🎯 **ENHANCED EMPTY STATE**: More informative messages when no birthdays match the selected filter"
                        }
                    },
                    {
                        type: "improved",
                        text: {
                            'pt': "🔄 **SISTEMA DE ORDENAÇÃO APRIMORADO**: Aniversários sempre ordenados por proximidade da data independente do filtro",
                            'en': "🔄 **ENHANCED SORTING SYSTEM**: Birthdays always sorted by date proximity regardless of filter"
                        }
                    },
                    {
                        type: "added",
                        text: {
                            'pt': "📊 **COMPATIBILIDADE TOTAL**: Sistema funciona perfeitamente com todas as funcionalidades existentes (notificações, PWA, etc.)",
                            'en': "📊 **FULL COMPATIBILITY**: System works perfectly with all existing features (notifications, PWA, etc.)"
                        }
                    }
                ]
            },
            {
                version: "4.0.0",
                date: "2025-09-20",
                type: "major",
                description: {
                    'pt': "Sistema avançado de notificações em background + PWA completo + Responsividade total",
                    'en': "Advanced background notification system + Complete PWA + Total responsiveness"
                },
                changes: [
                    {
                        type: "added",
                        text: {
                            'pt': "🔔 **NOTIFICAÇÕES EM BACKGROUND**: Service Worker avançado que funciona 24/7 mesmo com site fechado",
                            'en': "🔔 **BACKGROUND NOTIFICATIONS**: Advanced Service Worker that works 24/7 even with site closed"
                        }
                    },
                    {
                        type: "added", 
                        text: {
                            'pt': "📱 **PWA COMPLETO**: Manifesto otimizado para instalação como app nativo em celulares",
                            'en': "📱 **COMPLETE PWA**: Optimized manifest for installation as native app on phones"
                        }
                    },
                    {
                        type: "added",
                        text: {
                            'pt': "⚙️ **PAINEL DE CONFIGURAÇÕES**: Interface completa para personalizar tipos de alertas", 
                            'en': "⚙️ **SETTINGS PANEL**: Complete interface to customize alert types"
                        }
                    },
                    {
                        type: "added",
                        text: {
                            'pt': "📲 **OTIMIZAÇÃO MOBILE**: Vibração, sons e notificações push nativas em smartphones",
                            'en': "📲 **MOBILE OPTIMIZATION**: Vibration, sounds and native push notifications on smartphones"
                        }
                    },
                    {
                        type: "improved",
                        text: {
                            'pt': "🎯 **RESPONSIVIDADE TOTAL**: Breakpoints específicos para todos os dispositivos (smartphone, tablet, Poco X6 Pro, notebooks)",
                            'en': "🎯 **TOTAL RESPONSIVENESS**: Specific breakpoints for all devices (smartphone, tablet, Poco X6 Pro, notebooks)"
                        }
                    },
                    {
                        type: "added",
                        text: {
                            'pt': "⏰ **6 TIPOS DE ALERTAS**: No dia, 1 dia antes, 3 dias, 1 semana, 2 semanas, 1 mês",
                            'en': "⏰ **6 ALERT TYPES**: On the day, 1 day before, 3 days, 1 week, 2 weeks, 1 month"
                        }
                    },
                    {
                        type: "added",
                        text: {
                            'pt': "📚 **GUIA MÓVEL**: Instruções completas para uso em Android e iOS com tabela de compatibilidade",
                            'en': "📚 **MOBILE GUIDE**: Complete instructions for use on Android and iOS with compatibility table"
                        }
                    },
                    {
                        type: "improved",
                        text: {
                            'pt': "🔧 **VERIFICAÇÃO INTELIGENTE**: Sistema que verifica a cada 15 minutos e na meia-noite",
                            'en': "🔧 **SMART CHECKING**: System that checks every 15 minutes and at midnight"
                        }
                    },
                    {
                        type: "improved",
                        text: {
                            'pt': "✨ **INPUTS RESPONSIVOS**: Tamanhos ideais para cada tipo de tela, nunca mais saem da área visível",
                            'en': "✨ **RESPONSIVE INPUTS**: Ideal sizes for each screen type, never go outside visible area"
                        }
                    },
                    {
                        type: "added",
                        text: {
                            'pt': "📊 **VERCEL ANALYTICS**: Implementação correta com módulo instalado via npm",
                            'en': "📊 **VERCEL ANALYTICS**: Correct implementation with module installed via npm"
                        }
                    },
                    {
                        type: "improved",
                        text: {
                            'pt': "🎨 **INTERFACE MODERNA**: Checkboxes personalizados, botões interativos e animações fluidas",
                            'en': "🎨 **MODERN INTERFACE**: Custom checkboxes, interactive buttons and fluid animations"
                        }
                    }
                ]
            },
            {
                version: "3.3.0",
                date: "2025-09-19",
                type: "minor",
                description: {
                    'pt': "Campo de descrição opcional para pessoas cadastradas",
                    'en': "Optional description field for registered people"
                },
                changes: [
                    {
                        type: "added",
                        text: {
                            'pt': "💭 **CAMPO DESCRIÇÃO OPCIONAL**: Agora é possível adicionar uma descrição para cada pessoa cadastrada",
                            'en': "💭 **OPTIONAL DESCRIPTION FIELD**: Now you can add a description for each registered person"
                        }
                    },
                    {
                        type: "improved",
                        text: {
                            'pt': "📝 **Interface melhorada**: Novo campo textarea no formulário com placeholder e texto de ajuda",
                            'en': "📝 **Improved interface**: New textarea field in form with placeholder and help text"
                        }
                    },
                    {
                        type: "improved",
                        text: {
                            'pt': "🎨 **Exibição nos cards**: Descrição aparece nos cards com visual destacado quando informada",
                            'en': "🎨 **Display on cards**: Description appears on cards with highlighted visual when provided"
                        }
                    },
                    {
                        type: "added",
                        text: {
                            'pt': "📱 **CSS responsivo**: Estilo específico para textarea com resize vertical e fonte consistente",
                            'en': "📱 **Responsive CSS**: Specific style for textarea with vertical resize and consistent font"
                        }
                    },
                    {
                        type: "added",
                        text: {
                            'pt': "📊 **Vercel Analytics**: Adicionado rastreamento de analytics em todas as páginas do site",
                            'en': "📊 **Vercel Analytics**: Added analytics tracking to all website pages"
                        }
                    }
                ]
            },
            {
                version: "3.2.0",
                date: "2025-09-19",
                type: "major",
                description: "Correções críticas de cálculo de idade e próximo aniversário",
                changes: [
                    {
                        type: "fixed",
                        text: "**BUG DOS 13 MESES CORRIGIDO**: Próximo aniversário agora considera corretamente o ano atual se ainda não passou"
                    },
                    {
                        type: "fixed",
                        text: "**BUG DO DIA ANTERIOR CORRIGIDO**: Removido subtração incorreta de 1 dia no cálculo dateToDays()"
                    },
                    {
                        type: "fixed",
                        text: "**IDADE INCORRETA CORRIGIDA**: calculateNextAge() e calculateNextBirthdayYear() agora usam mesma lógica do cálculo de dias"
                    },
                    {
                        type: "improved",
                        text: "**Data completa do próximo aniversário**: Interface agora mostra 'Fará X anos em DD/MM/AAAA' em vez de apenas o ano"
                    },
                    {
                        type: "added",
                        text: "**Nova função getNextBirthdayDate()**: Formata data completa do próximo aniversário"
                    }
                ]
            },
            {
                version: "3.1.0",
                date: "2025-09-17",
                type: "major",
                description: "Sistema de cálculo 100% manual - ZERO JavaScript Date - Calcula para 2026",
                changes: [
                    {
                        type: "fixed",
                        text: "**BUG DE FUSO HORÁRIO ELIMINADO**: Sistema 100% manual sem JavaScript Date"
                    },
                    {
                        type: "fixed",
                        text: "**CÁLCULO CORRETO**: Agora calcula dias até aniversário no ano QUE VEM (2026)"
                    },
                    {
                        type: "added",
                        text: "**Algoritmo manual**: dateToDays() calcula dias desde época sem conversões UTC"
                    },
                    {
                        type: "fixed",
                        text: "**28/01/2006 CORRIGIDO**: Não vira mais 27/01/2006 - parsing direto de string"
                    },
                    {
                        type: "improved",
                        text: "**Performance**: Cálculos matemáticos puros, mais rápidos e precisos"
                    }
                ]
            },
            {
                version: "3.0.0",
                date: "2025-09-17",
                type: "major",
                description: "Reescrita completa do sistema de cálculo de datas com nova biblioteca própria",
                changes: [
                    {
                        type: "added",
                        text: "**Nova classe DateUtils**: Biblioteca própria para cálculos de data sem dependências externas"
                    },
                    {
                        type: "fixed",
                        text: "**REESCRITA COMPLETA**: Sistema de cálculo de datas 100% refeito do zero"
                    },
                    {
                        type: "fixed",
                        text: "**Bug de fuso horário ELIMINADO**: Uso de Date(year, month, day, 12, 0, 0) para evitar UTC"
                    },
                    {
                        type: "fixed",
                        text: "**Cálculo de dias PERFEITO**: Algoritmo robusto que funciona para qualquer data"
                    },
                    {
                        type: "improved",
                        text: "**Performance melhorada**: Cálculos mais eficientes e confiáveis"
                    }
                ]
            },
            {
                version: "2.2.2",
                date: "2025-09-17",
                type: "patch",
                description: "Correção definitiva dos bugs de fuso horário e cálculo de datas",
                changes: [
                    {
                        type: "fixed",
                        text: "**Bug de fuso horário CORRIGIDO**: Datas agora são exibidas corretamente (28/01/2006 não vira mais 27/01/2006)"
                    },
                    {
                        type: "fixed",
                        text: "**Cálculo de dias CORRIGIDO**: Datas futuras no mesmo mês agora calculam corretamente (19/09/2026 = ~367 dias, não 2)"
                    },
                    {
                        type: "improved",
                        text: "**Parse manual de datas**: Eliminação completa de problemas UTC/LocalTime com parse direto de strings"
                    },
                    {
                        type: "improved",
                        text: "**Formatação precisa**: Nova função de formatação que mantém a data original exata"
                    },
                    {
                        type: "improved",
                        text: "**Cálculo robusto**: Reescrita completa das funções de cálculo para máxima precisão"
                    }
                ]
            },
            {
                version: "2.2.1",
                date: "2025-09-17",
                type: "patch",
                description: "Correção definitiva do bug de cálculo de dias até aniversário",
                changes: [
                    {
                        type: "fixed",
                        text: "**Bug crítico DEFINITIVAMENTE corrigido**: Cálculo de dias até aniversário agora funciona corretamente para todas as datas (19/09/2026 agora mostra 367 dias, não 2)"
                    },
                    {
                        type: "improved",
                        text: "**Precisão aprimorada**: Uso de Math.floor ao invés de Math.ceil para cálculos mais precisos"
                    },
                    {
                        type: "improved",
                        text: "**Tratamento de datas futuras**: Sistema agora lida corretamente com pessoas que ainda não nasceram"
                    },
                    {
                        type: "improved",
                        text: "**Normalização de horários**: Todas as comparações de data agora usam meia-noite (00:00:00) para consistência"
                    }
                ]
            },
            {
                version: "2.2.0",
                date: "2025-09-17",
                type: "minor",
                description: "Correção crítica do cálculo de datas e adição do sistema de idades",
                changes: [
                    {
                        type: "fixed",
                        text: "**Bug crítico corrigido**: Cálculo de dias até aniversário agora funciona corretamente (não mostra mais 13 meses para algo que falta 1 dia)"
                    },
                    {
                        type: "new",
                        text: "**Sistema de idades**: Mostra idade atual da pessoa e quantos anos fará no próximo aniversário"
                    },
                    {
                        type: "new",
                        text: "**Ano do próximo aniversário**: Indica em que ano a pessoa fará a próxima idade"
                    },
                    {
                        type: "improved",
                        text: "**Interface aprimorada**: Informações de idade organizadas de forma clara nos cards"
                    },
                    {
                        type: "improved",
                        text: "**Formulário atualizado**: Campo renomeado para 'Data de Nascimento' com texto explicativo"
                    }
                ]
            },
            {
                version: "2.1.0",
                date: "2025-09-17",
                type: "minor",
                description: "Adição do sistema de changelog e melhorias na interface do usuário",
                changes: [
                    {
                        type: "new",
                        text: "**Sistema de Changelog**: Página dedicada para histórico de versões com pesquisa avançada"
                    },
                    {
                        type: "new",
                        text: "**Página separada**: Changelog agora tem sua própria página HTML para melhor organização"
                    },
                    {
                        type: "improved",
                        text: "**Header redesenhado**: Nova disposição com melhor usabilidade"
                    },
                    {
                        type: "improved",
                        text: "**Interface responsiva**: Experiência otimizada em todos os dispositivos"
                    },
                    {
                        type: "improved",
                        text: "**Navegação**: Botão de voltar para facilitar a navegação entre páginas"
                    }
                ]
            },
            {
                version: "2.0.0",
                date: "2025-09-17",
                type: "major",
                description: "Versão completa com todas as funcionalidades de notificação e interface moderna implementadas",
                changes: [
                    {
                        type: "new",
                        text: "**Sistema de notificações inteligentes**: Lembretes automáticos em 1 mês, 14 dias, 7 dias e diariamente nos últimos 3 dias"
                    },
                    {
                        type: "new",
                        text: "**Notificações do navegador**: Alertas push mesmo com site minimizado (requer permissão)"
                    },
                    {
                        type: "new",
                        text: "**Upload e preview de fotos**: Adicione fotos das pessoas aniversariantes com preview instantâneo"
                    },
                    {
                        type: "new",
                        text: "**Sistema de filtros**: Visualize aniversários por categoria (Todos, Próximos, Urgentes)"
                    },
                    {
                        type: "new",
                        text: "**Persistência completa**: Todos os dados salvos no localStorage com recuperação automática"
                    },
                    {
                        type: "new",
                        text: "**Service Worker**: Funcionalidade offline e cache para melhor performance"
                    },
                    {
                        type: "improved",
                        text: "**Interface moderna**: Design com gradientes, animações suaves e responsividade total"
                    },
                    {
                        type: "improved",
                        text: "**UX aprimorada**: Modal de confirmação, toast notifications e feedback visual"
                    }
                ]
            },
            {
                version: "1.2.0",
                date: "2025-09-16",
                type: "minor",
                description: "Melhorias na experiência do usuário, correções de bugs e otimizações de performance",
                changes: [
                    {
                        type: "improved",
                        text: "**Cálculo de datas aprimorado**: Algoritmo mais preciso considerando anos bissextos e fusos horários"
                    },
                    {
                        type: "improved",
                        text: "**Validação robusta**: Prevenção de aniversários duplicados e validação de campos"
                    },
                    {
                        type: "fixed",
                        text: "**Bug de ordenação corrigido**: Aniversários agora ordenam corretamente por proximidade da data"
                    },
                    {
                        type: "improved",
                        text: "**Performance otimizada**: Carregamento mais rápido de fotos e renderização de listas"
                    },
                    {
                        type: "improved",
                        text: "**Tratamento de erros**: Melhor feedback quando ocorrem problemas no sistema"
                    }
                ]
            },
            {
                version: "1.1.0",
                date: "2025-09-15",
                type: "minor",
                description: "Adição de recursos visuais importantes e melhorias significativas na usabilidade",
                changes: [
                    {
                        type: "new",
                        text: "**Avatar automático**: Exibe primeira letra do nome quando não há foto carregada"
                    },
                    {
                        type: "new",
                        text: "**Cards coloridos por urgência**: Sistema visual intuitivo (vermelho=urgente, verde=próximo, cinza=normal)"
                    },
                    {
                        type: "new",
                        text: "**Painel de estatísticas**: Contador em tempo real de aniversários cadastrados e urgentes"
                    },
                    {
                        type: "improved",
                        text: "**Modal de confirmação**: Confirmação segura antes de excluir aniversários"
                    },
                    {
                        type: "improved",
                        text: "**Estado vazio**: Mensagem explicativa quando não há aniversários cadastrados"
                    },
                    {
                        type: "improved",
                        text: "**Micro-interações**: Hover effects e transições suaves em todos os elementos"
                    }
                ]
            },
            {
                version: "1.0.0",
                date: "2025-09-14",
                type: "major",
                description: "Lançamento inicial do sistema de lembretes de aniversários com funcionalidades básicas essenciais",
                changes: [
                    {
                        type: "new",
                        text: "**Cadastro básico de aniversários**: Formulário para adicionar nome e data de aniversário"
                    },
                    {
                        type: "new",
                        text: "**Lista dinâmica**: Visualização organizada de todos os aniversários cadastrados"
                    },
                    {
                        type: "new",
                        text: "**Contador automático**: Cálculo em tempo real de dias restantes até cada aniversário"
                    },
                    {
                        type: "new",
                        text: "**Design responsivo**: Interface que funciona em desktop, tablet e mobile"
                    },
                    {
                        type: "new",
                        text: "**Funcionalidade de exclusão**: Remover aniversários quando necessário"
                    },
                    {
                        type: "new",
                        text: "**Base técnica sólida**: Arquitetura escalável usando HTML5, CSS3 e JavaScript ES6+"
                    }
                ]
            }
        ];

        // Função para renderizar as versões
        function renderChangelog(data = changelogData) {
            const container = document.getElementById('changelog-list');
            
            if (data.length === 0) {
                container.innerHTML = `
                    <div class="no-results">
                        <i class="fas fa-search"></i>
                        <h3>Nenhuma versão encontrada</h3>
                        <p>Tente usar termos diferentes na pesquisa.</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = data.map((changelog, index) => {
                const isLatest = index === 0 && data === changelogData;
                const typeLabels = {
                    major: 'MAJOR',
                    minor: 'MINOR', 
                    patch: 'PATCH'
                };

                return `
                    <div class="changelog-item ${isLatest ? 'latest' : ''}">
                        <div class="changelog-header">
                            <div class="version-info">
                                <div class="version-number">
                                    <i class="fas fa-code-branch"></i>
                                    v${changelog.version}
                                    <span class="version-type ${changelog.type}">${typeLabels[changelog.type]}</span>
                                </div>
                            </div>
                            <div class="version-date">
                                <i class="fas fa-calendar-alt"></i>
                                ${formatDate(changelog.date)}
                            </div>
                        </div>
                        
                        <div class="changelog-description">
                            ${typeof changelog.description === 'object' ? changelog.description[currentL] || changelog.description['pt'] : changelog.description}
                        </div>
                        
                        <div class="changelog-changes">
                            ${changelog.changes.map(change => `
                                <div class="change-item ${change.type}">
                                    <div class="change-icon ${change.type}">
                                        ${getChangeIcon(change.type)}
                                    </div>
                                    <div class="change-text">${typeof change.text === 'object' ? change.text[currentL] || change.text['pt'] : change.text}</div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Função para obter ícone da mudança
        function getChangeIcon(type) {
            const icons = {
                added: '+',
                improved: '↑',
                fixed: '✓',
                removed: '−',
                new: '+' // fallback
            };
            return icons[type] || '•';
        }

        // Função para formatar data
        function formatDate(dateString) {
            // Parse manual para evitar problemas de fuso horário
            const [year, month, day] = dateString.split('-').map(Number);
            const date = new Date(year, month - 1, day, 12, 0, 0); // Meio-dia para evitar UTC issues
            return date.toLocaleDateString('pt-BR', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            });
        }

        // Estado global dos filtros
        let currentTypeFilter = 'all';
        let currentSearchTerm = '';
        // currentL já foi declarado acima

        // Função de busca e filtro combinados
        function filterChangelog(searchTerm = currentSearchTerm, typeFilter = currentTypeFilter) {
            currentSearchTerm = searchTerm;
            currentTypeFilter = typeFilter;
            
            let filtered = [...changelogData];

            // Filtro por tipo de versão
            if (typeFilter !== 'all') {
                filtered = filtered.filter(changelog => changelog.type === typeFilter);
            }

            // Filtro por busca textual
            if (searchTerm.trim()) {
                const searchLower = searchTerm.toLowerCase();
                filtered = filtered.filter(changelog => {
                    const description = typeof changelog.description === 'object' ? 
                        changelog.description[currentL] || changelog.description['pt'] : 
                        changelog.description;
                    
                    return (
                        changelog.version.toLowerCase().includes(searchLower) ||
                        description.toLowerCase().includes(searchLower) ||
                        changelog.changes.some(change => {
                            const text = typeof change.text === 'object' ? 
                                change.text[currentL] || change.text['pt'] : 
                                change.text;
                            return text.toLowerCase().includes(searchLower);
                        })
                    );
                });
            }

            renderChangelog(filtered);
        }

        // Função para alternar filtros de tipo
        function setTypeFilter(filter) {
            // Atualizar botões ativos
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-filter="${filter}"]`).classList.add('active');
            
            // Aplicar filtro
            filterChangelog(currentSearchTerm, filter);
        }

        // Função para trocar idioma
        function setLanguage(lang) {
            currentL = lang;
            
            // Atualizar placeholders e textos
            if (lang === 'en') {
                document.getElementById('search-input').placeholder = 'Search for version, feature or change...';
                document.querySelector('[data-filter="all"]').innerHTML = '<i class="fas fa-list"></i> All';
                document.querySelector('[data-filter="major"]').innerHTML = '<i class="fas fa-star"></i> Major';
                document.querySelector('[data-filter="minor"]').innerHTML = '<i class="fas fa-plus-circle"></i> Minor';
                document.querySelector('[data-filter="patch"]').innerHTML = '<i class="fas fa-wrench"></i> Patch';
                document.title = '📋 Changelog - Birthday Reminders';
                document.querySelector('.header h1').textContent = '📋 Changelog';
                document.querySelector('.header p').textContent = 'Complete history of versions and updates';
            } else {
                document.getElementById('search-input').placeholder = 'Pesquisar por versão, recurso ou mudança...';
                document.querySelector('[data-filter="all"]').innerHTML = '<i class="fas fa-list"></i> Todos';
                document.querySelector('[data-filter="major"]').innerHTML = '<i class="fas fa-star"></i> Main';
                document.querySelector('[data-filter="minor"]').innerHTML = '<i class="fas fa-plus-circle"></i> Minor';
                document.querySelector('[data-filter="patch"]').innerHTML = '<i class="fas fa-wrench"></i> Patch';
                document.title = '📋 Changelog - Lembrete de Aniversários';
                document.querySelector('.header h1').textContent = '📋 Changelog';
                document.querySelector('.header p').textContent = 'Histórico completo de versões e atualizações';
            }
            
            // Re-renderizar com idioma atual
            renderChangelog();
        }

        // Event listeners
        document.getElementById('search-input').addEventListener('input', (e) => {
            filterChangelog(e.target.value, currentTypeFilter);
        });

        // Event listeners para filtros de tipo
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                setTypeFilter(btn.getAttribute('data-filter'));
            });
        });

        // Event listener para mudança de idioma
        document.getElementById('changelog-language').addEventListener('change', (e) => {
            setLanguage(e.target.value);
        });

        // Renderizar changelog inicial
        document.addEventListener('DOMContentLoaded', () => {
            renderChangelog();
        });
    </script>
    
    <!-- Vercel Analytics -->
    <script type="module" src="analytics.js"></script>
</body>
</html>
